"use strict";(self.webpackChunktasky_tasker=self.webpackChunktasky_tasker||[]).push([[653],{2653:(H,p,o)=>{o.r(p),o.d(p,{AccountStatusModule:()=>b});var c=o(6895),f=o(9132),r=o(5861),t=o(4650),h=o(5377),v=o(8826),g=o(164),x=o(9496),y=o(3646);function A(i,m){if(1&i&&(t.TgZ(0,"div",11),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.price))}}function S(i,m){if(1&i){const e=t.EpF();t.TgZ(0,"div",3),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.buildHtml2Pdf(a._id))}),t._UZ(1,"img",4),t.TgZ(2,"div",5)(3,"div",6),t._uU(4),t.qZA(),t.TgZ(5,"div",7)(6,"div",8),t._uU(7),t.qZA(),t.TgZ(8,"div",9),t._uU(9),t.ALo(10,"date"),t.qZA()()(),t.YNc(11,A,3,3,"div",10),t.qZA()}if(2&i){const e=m.$implicit,s=t.oxw();t.xp6(1),t.Q6J("src",e.activity_logo||"./assets/images/icon-128x128.png",t.LSH),t.xp6(3),t.Oqu(e.activity_name),t.xp6(3),t.hij("",s.STATUS_STR[e.status],":"),t.xp6(2),t.Oqu(t.xi3(10,5,e.status_date,"dd/MM/yy hh:mm")),t.xp6(2),t.Q6J("ngIf",e.price&&e.price>0)}}const T=[{path:"",component:(()=>{class i{constructor(e,s,n,a){this.sharedvar=e,this.dtb=s,this.dg=n,this.htm2pdf=a,this.STATUS_STR=["Ninguno","Seleccionado","En proceso","Finalizado","Aprobado"]}ngOnInit(){var e=this;return(0,r.Z)(function*(){const s=new Date,n=s.setHours(0,0,0,0),a=s.setHours(23,59,59,999);e.resultStatusList=yield e.dtb.getPollResultByStatusAsync(2,n,a)})()}getClicked(e){1===e.index&&this.filterDialog()}filterDialog(){var e=this;let n=new Date;n.setHours(0,0,0,0);let a={status:"3",date_ini:n.getTime(),date_end:n.getTime()};this.dg.aDefault({schema:{controls:[{name:"status",label:"Estado:",type:"select",validators:{},selectOptions:[{key:"3",value:"Finalizado"},{key:"4",value:"Aprobado"},{key:"5",value:"pagado"}]},{name:"date_ini",label:"Fecha inicio:",type:"date",validators:{}},{name:"date_end",label:"Fecha final:",type:"date",validators:{}}]},title:"Filtros",value:a,dgwidth:250,dgheigth:400}).subscribe(function(){var F=(0,r.Z)(function*(d){if(d){let u=new Date(d.date_ini||0);u.setHours(0,0,0,0);const _=u.getTime();u=new Date(d.date_end||0);const w=u.setHours(23,59,59,999);e.resultStatusList=yield e.dtb.getPollResultByStatusAsync(d.status||3,_,w)}});return function(d){return F.apply(this,arguments)}}())}buildHtml2Pdf(e){var s=this;return(0,r.Z)(function*(){const n=yield s.dtb.getPollResultAsync(e);s.htm2pdf.buildHtml2Pdf(n,null)})()}static#t=this.\u0275fac=function(s){return new(s||i)(t.Y36(h.D),t.Y36(v.k),t.Y36(g.x),t.Y36(x.Q))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-account-status"]],decls:3,vars:2,consts:[[3,"buttons","onClicked"],[1,"p-2","divide-y","divide-slate-200"],["class","flex h-16 w-full flex-row",3,"click",4,"ngFor","ngForOf"],[1,"flex","h-16","w-full","flex-row",3,"click"],["alt","logo",1,"h-12","w-12","rounded-md","object-fill","p-1",3,"src"],[1,"flex","grow","flex-col","justify-start"],[1,"grow","pl-2","text-lg"],[1,"pl-2","flex","flex-row","h-14","w-full"],[1,"p-1","h-6","text-sm","text-slate-700","border-b","border-slate-500"],[1,"pl-3","pt-1","text-sm","text-slate-400"],["class","pt-1 text-red-700 font-semibold",4,"ngIf"],[1,"pt-1","text-red-700","font-semibold"]],template:function(s,n){1&s&&(t.TgZ(0,"app-header",0),t.NdJ("onClicked",function(l){return n.getClicked(l)}),t.qZA(),t.TgZ(1,"div",1),t.YNc(2,S,12,8,"div",2),t.qZA()),2&s&&(t.Q6J("buttons","110000"),t.xp6(2),t.Q6J("ngForOf",n.resultStatusList))},dependencies:[c.sg,c.O5,y.G,c.H9,c.uU]})}return i})()}];let Z=(()=>{class i{static#t=this.\u0275fac=function(s){return new(s||i)};static#e=this.\u0275mod=t.oAB({type:i});static#s=this.\u0275inj=t.cJS({imports:[f.Bz.forChild(T),f.Bz]})}return i})();var C=o(8471);let b=(()=>{class i{static#t=this.\u0275fac=function(s){return new(s||i)};static#e=this.\u0275mod=t.oAB({type:i});static#s=this.\u0275inj=t.cJS({imports:[c.ez,Z,C.O]})}return i})()}}]);