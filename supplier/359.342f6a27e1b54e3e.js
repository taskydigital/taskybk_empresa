"use strict";(self.webpackChunktasky_supplier=self.webpackChunktasky_supplier||[]).push([[359],{9359:(k,d,l)=>{l.r(d),l.d(d,{PollExportModule:()=>C});var v=l(7087),i=l(3759),u=l(3241),e=l(2283),h=l(4758),x=l(6655),f=l(8878),p=l(1359),E=l(3578),y=l(5499),c=l(6410),m=l(8464);const b=[{path:"",component:(()=>{class o{constructor(t,a,r,n){this.sharedvar=t,this.dtb=a,this.dg=r,this.snkBar=n,this.PollExecuteData={controls:[{name:"model_name",label:"Nombre del Modelo:",type:"text",style:"w-5/6",validators:{required:!0}},{name:"description",label:"Descripci\xf3n",type:"textarea",style:"w-full",totalRows:5,validators:{}},{name:"name",label:"Nombre de la Empresa:",type:"text",style:"w-full",validators:{}},{name:"client_logo",label:"URL del logo",type:"text",style:"w-full",validators:{}},{name:"date_ini",label:"Fecha inicial",type:"number",default:0,validators:{required:!0}},{name:"date_end",label:"Fecha final",type:"number",default:0,validators:{required:!0}},{name:"payxpoll",label:"Pago por encuesta",type:"number",default:0,validators:{required:!0}},{name:"total",label:"Ofertados",type:"number",default:0,validators:{required:!0}},{name:"endtimer",label:"Duraci\xf3n M\xe1xima en Minutos",type:"number",default:0,validators:{required:!0}}]}}ngOnInit(){const t=this.sharedvar.pollGroupIndex.children.find(a=>a.id===this.sharedvar.pollGrpIndexSub.parentRootNodeId);t&&(this.sharedvar.pollGrpExecuted.model_name=this.sharedvar.pollGrpExecuted.model_name?this.sharedvar.pollGrpExecuted.model_name:this.sharedvar.pollGrpExecuted.name,this.sharedvar.pollGrpExecuted.name=t.name,this.sharedvar.pollGrpExecuted.client_logo=this.sharedvar.pollGrpExecuted.client_logo?this.sharedvar.pollGrpExecuted.client_logo:t.client_logo)}getClicked(t){}onGetdefaData(t){this.result=t}onExportSave(){var t=this;return(0,u.Z)(function*(){t.result._valid_?(t.dg.updatePropResult(t.sharedvar.pollGrpExecuted,t.sharedvar.pollGrpExecuted),t.dg.updatePropResult(t.sharedvar.pollGrpExecuted,t.result),t.sharedvar.pollGrpExecuted.executed=0,t.sharedvar.pollGrpExecuted.pollList.forEach(a=>{a.values&&(a.values._valid_=!1,a.values._btnEvent_&&(a.values._btnEvent_=""),a.values._btnclick_&&(a.values._btnclick_=""))}),t.sharedvar.pollGrpExecuted.exported=!0,yield t.dtb.updatePollGroupAsync(t.sharedvar.pollGrpExecuted),t.snkBar.open(`El Modelo '${t.sharedvar.pollGrpExecuted.name}' se export\xf3 satisfactoriamente.`,"Ok",{duration:5e3})):t.snkBar.open("Debe ingresar la informaci\xf3n solicitada.","Ok",{duration:5e3})})()}onStop(){var t=this;return(0,u.Z)(function*(){t.sharedvar.pollGrpExecuted.exported=!1,yield t.dtb.updatePollGroupAsync(t.sharedvar.pollGrpExecuted),t.snkBar.open(`El Modelo '${t.sharedvar.pollGrpExecuted.name}' ya no est\xe1 disponible.`,"Ok",{duration:5e3})})()}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(h.D),e.Y36(x.k),e.Y36(f.x),e.Y36(p.ux))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-poll-export"]],decls:12,vars:6,consts:[[3,"buttons","nav_menu","onClicked"],[1,"h-96","p-4"],[3,"jsonFormData","values","result"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","","color","warn",3,"disabled","click"]],template:function(a,r){1&a&&(e.TgZ(0,"app-header",0),e.NdJ("onClicked",function(s){return r.getClicked(s)}),e.qZA(),e.TgZ(1,"div",1)(2,"app-dynamic-form",2),e.NdJ("result",function(s){return r.onGetdefaData(s)}),e.qZA(),e.TgZ(3,"button",3),e.NdJ("click",function(){return r.onExportSave()}),e._uU(4," Exportar Modelo "),e.TgZ(5,"mat-icon"),e._uU(6,"send_to_mobile"),e.qZA()(),e._uU(7," \xa0 "),e.TgZ(8,"button",4),e.NdJ("click",function(){return r.onStop()}),e._uU(9," Inhabilitar Modelo "),e.TgZ(10,"mat-icon"),e._uU(11,"send_to_mobile"),e.qZA()()()),2&a&&(e.Q6J("buttons","10000")("nav_menu",!0),e.xp6(2),e.Q6J("jsonFormData",r.PollExecuteData)("values",r.sharedvar.pollGrpExecuted),e.xp6(1),e.Q6J("disabled",r.sharedvar.pollGrpExecuted.exported),e.xp6(5),e.Q6J("disabled",!r.sharedvar.pollGrpExecuted.exported))},dependencies:[E.G,y.r,c.lW,m.Hw]})}return o})()}];let G=(()=>{class o{static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275mod=e.oAB({type:o});static#a=this.\u0275inj=e.cJS({imports:[i.Bz.forChild(b),i.Bz]})}return o})();var g=l(769),P=l(7572);let C=(()=>{class o{static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275mod=e.oAB({type:o});static#a=this.\u0275inj=e.cJS({imports:[v.ez,G,g.O,p.ZX,P.N,c.ot,m.Ps]})}return o})()}}]);