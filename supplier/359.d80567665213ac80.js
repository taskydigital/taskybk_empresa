"use strict";(self.webpackChunktasky_supplier=self.webpackChunktasky_supplier||[]).push([[359],{9359:(k,s,o)=>{o.r(s),o.d(s,{PollExportModule:()=>C});var m=o(7087),d=o(3759),c=o(3241),e=o(2283),h=o(4758),y=o(6655),f=o(8878),u=o(1359),b=o(3578),A=o(5499),p=o(6410),v=o(8464);const x=[{path:"",component:(()=>{class l{constructor(t,a,r,n){this.sharedvar=t,this.dtb=a,this.dg=r,this.snkBar=n,this.PollExecuteData={controls:[{name:"model_name",label:"Nombre del Modelo:",type:"text",style:"w-5/6",validators:{required:!0}},{name:"description",label:"Descripci\xf3n",type:"textarea",style:"w-full",totalRows:5,validators:{}},{name:"name",label:"Nombre de la Empresa:",type:"text",style:"w-full",validators:{}},{name:"client_logo",label:"URL del logo",type:"text",style:"w-full",validators:{}},{name:"date_ini",label:"Fecha inicial",type:"number",default:0,validators:{required:!0}},{name:"date_end",label:"Fecha final",type:"number",default:0,validators:{required:!0}},{name:"payxpoll",label:"Pago por encuesta",type:"number",default:0,validators:{required:!0}},{name:"total",label:"Ofertados",type:"number",default:0,validators:{required:!0}},{name:"endtimer",label:"Duraci\xf3n M\xe1xima en Minutos",type:"number",default:0,validators:{required:!0}}]}}ngOnInit(){const t=this.sharedvar.pollGroupIndex.children.find(a=>a.id===this.sharedvar.pollGrpIndexSub.parentRootNodeId);t&&(this.sharedvar.pollActivity.model_name=this.sharedvar.pollActivity.model_name?this.sharedvar.pollActivity.model_name:this.sharedvar.pollActivity.name,this.sharedvar.pollActivity.name=t.name,this.sharedvar.pollActivity.client_logo=this.sharedvar.pollActivity.client_logo?this.sharedvar.pollActivity.client_logo:t.client_logo)}getClicked(t){}onGetdefaData(t){this.result=t}onExportSave(){var t=this;return(0,c.Z)(function*(){t.result._valid_?(t.dg.updatePropResult(t.sharedvar.pollActivity,t.sharedvar.pollActivity),t.dg.updatePropResult(t.sharedvar.pollActivity,t.result),t.sharedvar.pollActivity.executed=0,t.sharedvar.pollActivity.pollList.forEach(a=>{a.values&&(a.values._valid_=!1,a.values._btnEvent_&&(a.values._btnEvent_=""),a.values._btnclick_&&(a.values._btnclick_=""))}),t.sharedvar.pollActivity.exported=!0,yield t.dtb.updatePollGroupAsync(t.sharedvar.pollActivity),t.snkBar.open(`El Modelo '${t.sharedvar.pollActivity.name}' se export\xf3 satisfactoriamente.`,"Ok",{duration:5e3})):t.snkBar.open("Debe ingresar la informaci\xf3n solicitada.","Ok",{duration:5e3})})()}onStop(){var t=this;return(0,c.Z)(function*(){t.sharedvar.pollActivity.exported=!1,yield t.dtb.updatePollGroupAsync(t.sharedvar.pollActivity),t.snkBar.open(`El Modelo '${t.sharedvar.pollActivity.name}' ya no est\xe1 disponible.`,"Ok",{duration:5e3})})()}static#t=this.\u0275fac=function(a){return new(a||l)(e.Y36(h.D),e.Y36(y.k),e.Y36(f.x),e.Y36(u.ux))};static#e=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-poll-export"]],decls:12,vars:4,consts:[[3,"buttons","nav_menu","onClicked"],[1,"h-96","p-4"],[3,"jsonFormData","values","result"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(a,r){1&a&&(e.TgZ(0,"app-header",0),e.NdJ("onClicked",function(i){return r.getClicked(i)}),e.qZA(),e.TgZ(1,"div",1)(2,"app-dynamic-form",2),e.NdJ("result",function(i){return r.onGetdefaData(i)}),e.qZA(),e.TgZ(3,"button",3),e.NdJ("click",function(){return r.onExportSave()}),e._uU(4," Exportar Modelo "),e.TgZ(5,"mat-icon"),e._uU(6,"send_to_mobile"),e.qZA()(),e._uU(7," \xa0 "),e.TgZ(8,"button",4),e.NdJ("click",function(){return r.onStop()}),e._uU(9," Inhabilitar Modelo "),e.TgZ(10,"mat-icon"),e._uU(11,"send_to_mobile"),e.qZA()()()),2&a&&(e.Q6J("buttons","10000")("nav_menu",!0),e.xp6(2),e.Q6J("jsonFormData",r.PollExecuteData)("values",r.sharedvar.pollActivity))},dependencies:[b.G,A.r,p.lW,v.Hw]})}return l})()}];let g=(()=>{class l{static#t=this.\u0275fac=function(a){return new(a||l)};static#e=this.\u0275mod=e.oAB({type:l});static#a=this.\u0275inj=e.cJS({imports:[d.Bz.forChild(x),d.Bz]})}return l})();var E=o(769),P=o(7572);let C=(()=>{class l{static#t=this.\u0275fac=function(a){return new(a||l)};static#e=this.\u0275mod=e.oAB({type:l});static#a=this.\u0275inj=e.cJS({imports:[m.ez,g,E.O,u.ZX,P.N,p.ot,v.Ps]})}return l})()}}]);