"use strict";(self.webpackChunktasky_supplier=self.webpackChunktasky_supplier||[]).push([[357],{9381:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{p:()=>PollDetailComponent});var C_Users_Juan_Carlos_Documents_proyectos_tasky_tasky_supplier_node_modules_pnpm_babel_runtime_7_20_13_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3241),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2283),src_app_shared_var_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4758),src_app_dialog_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6510),_angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1359),src_app_database_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6806),_angular_common__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7087),_components_dynamic_form_dynamic_form_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(5499),_angular_material_menu__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(9347),_angular_material_icon__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8464);const _c0=["parent"],_c1=["editControlTrigger"];function PollDetailComponent_div_2_Template(n,s){if(1&n){const l=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",7,8)(2,"app-dynamic-form",9),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("result",function(d){_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(l);const t=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(t.onGetData(d))}),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()()}if(2&n){const l=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("jsonFormData",l.sharedvar.pollSelected.schema)("editBtn","more_horiz")}}let PollDetailComponent=(()=>{class _PollDetailComponent{constructor(n,s,l,o){this.sharedvar=n,this.dg=s,this.snkBar=l,this.dtb=o,this.roundBtnClass="",this.defaPoll={controls:[{name:"welcome",label:"welcome",default:"Selecciona un Modelo",type:"header",style:"w-full",validators:{}}]}}ngOnInit(){var n=this;return(0,C_Users_Juan_Carlos_Documents_proyectos_tasky_tasky_supplier_node_modules_pnpm_babel_runtime_7_20_13_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__.Z)(function*(){let s=100;n.parentEl&&(s=n.parentEl.nativeElement.offsetLeft),n.roundBtnClass=`fixed z-90 bottom-8 left-${s} border-solid border-2 bg-white w-16 h-16 rounded-full drop-shadow-lg flex justify-center items-center text-violet-700 hover:bg-gray-200`})()}ngOnDestroy(){}getClicked(n){2===n.index&&this.onAddEditControl(-1)}onAddEditControl(n=-1){if(!this.sharedvar.pollSelected)return void this.snkBar.open("Seleccione un modelo.","Ok",{duration:5e3});let s;this.sharedvar.pollSelected.schema.controls||(this.sharedvar.pollSelected.schema.controls=[]),n>=0&&(s=JSON.parse(JSON.stringify(this.sharedvar.pollSelected.schema.controls[n]))),this.dg.aDinamycDialog(s).subscribe(l=>{if(l){if(!l._valid_)return void this.snkBar.open("Debe ingresar la informaci\xf3n solicitada.","Ok",{duration:5e3});let o=JSON.parse(JSON.stringify(this.sharedvar.pollSelected?.schema));const d=this.buildPollItem(l);s?o.controls[n]=d:o.controls.push(d),this.sharedvar.pollSelected&&(this.sharedvar.pollSelected.schema=o)}})}buildPollItem(item){const ctrl={name:this.getUniqueName(item.name),label:item.label,type:item.type,validators:item.validators||{}};return item.default&&(ctrl.default=item.default),item.style&&(ctrl.style=item.style),item.default&&(ctrl.default=item.default),item.selectOptions&&(ctrl.selectOptions=eval(item.selectOptions)),item.totalRows&&(ctrl.totalRows=item.totalRows),item.avalue&&(ctrl.avalue=item.avalue),item.description&&(ctrl.description=item.description),item.tags&&(ctrl.tags=item.tags),item.required?ctrl.validators.required=!0:ctrl.validators.nullValidator=!0,item.sideBtn&&(ctrl.sideBtn=item.sideBtn),item.sideBtn2&&(ctrl.sideBtn2=item.sideBtn2),item.disabled&&(ctrl.disabled=item.disabled),ctrl}getUniqueName(n){let s=1,l=n;for(let o=0;o<this.sharedvar.pollGrpExecuted.pollList.length;o++){const d=this.sharedvar.pollGrpExecuted.pollList[o].schema.controls||[];for(let t=0;t<d.length;t++)if(d[t].name===l){s++,l=`${l}_${s}`,o=-1;break}}return l}onGetData(n){this.result=n;const s=this.result._propName_;if(this.sharedvar.pollSelected&&this.sharedvar.pollSelected.schema.controls){const l=this.sharedvar.pollSelected.schema.controls.findIndex(o=>o.name===s);if(l>=0){this.ctrlSel=l;let o=document.getElementById("spanTrigger");o&&(o.style.display="",o.style.position="absolute",o.style.left=n._btnEvent_.pageX+5+"px",o.style.top=n._btnEvent_.pageY+5+"px",this.editControlTrigger.openMenu())}}}onGetGeneralData(n){this.dg.updatePropResult(this.sharedvar.pollSelected,n)}onEditCtrl(){this.onAddEditControl(this.ctrlSel)}onDeleteCtrl(){this.sharedvar.pollSelected&&this.sharedvar.pollSelected.schema.controls?.splice(this.ctrlSel,1)}onSwitchCtrl(){if(this.sharedvar.pollSelected&&this.sharedvar.pollSelected.schema.controls&&this.ctrlSel>0){const n=this.sharedvar.pollSelected.schema.controls[this.ctrlSel];this.sharedvar.pollSelected.schema.controls[this.ctrlSel]=this.sharedvar.pollSelected.schema.controls[this.ctrlSel-1],this.sharedvar.pollSelected.schema.controls[this.ctrlSel-1]=n}}onDupCtrl(){if(this.sharedvar.pollSelected&&this.sharedvar.pollSelected.schema.controls){const n=JSON.stringify(this.sharedvar.pollSelected.schema.controls[this.ctrlSel]);this.sharedvar.pollSelected.schema.controls.push(JSON.parse(n))}}static#_=this.\u0275fac=function n(s){return new(s||_PollDetailComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(src_app_shared_var_service__WEBPACK_IMPORTED_MODULE_2__.D),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(src_app_dialog_service__WEBPACK_IMPORTED_MODULE_3__.x),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_4__.ux),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(src_app_database_service__WEBPACK_IMPORTED_MODULE_5__.k))};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:_PollDetailComponent,selectors:[["app-poll-detail"]],viewQuery:function n(s,l){if(1&s&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gf(_c0,5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gf(_c1,5)),2&s){let o;_angular_core__WEBPACK_IMPORTED_MODULE_0__.iGM(o=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CRH())&&(l.parentEl=o.first),_angular_core__WEBPACK_IMPORTED_MODULE_0__.iGM(o=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CRH())&&(l.editControlTrigger=o.first)}},decls:24,vars:4,consts:[["id","spanTrigger",3,"matMenuTriggerFor"],["editControlTrigger","matMenuTrigger"],["class","p-2 flex flex-col items-stretch",4,"ngIf"],[3,"click"],["controlEdit","matMenu"],["mat-menu-item","",3,"click"],[1,"mat-18"],[1,"p-2","flex","flex-col","items-stretch"],["parent",""],[3,"jsonFormData","editBtn","result"]],template:function n(s,l){if(1&s&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(0,"span",0,1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(2,PollDetailComponent_div_2_Template,3,2,"div",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(3,"button",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("click",function(){return l.onAddEditControl()}),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(4,"mat-icon"),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(5,"add"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(6,"mat-menu",null,4)(8,"button",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("click",function(){return l.onEditCtrl()}),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(9,"mat-icon",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(10,"edit"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(11," Editar "),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(12,"button",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("click",function(){return l.onDeleteCtrl()}),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(13,"mat-icon",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(14,"delete"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(15," Eliminar "),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(16,"button",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("click",function(){return l.onSwitchCtrl()}),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(17,"mat-icon",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(18,"import_export"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(19," Subir una posici\xf3n "),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(20,"button",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("click",function(){return l.onDupCtrl()}),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(21,"mat-icon",6),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(22,"copy"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(23," Duplicar "),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()()),2&s){const o=_angular_core__WEBPACK_IMPORTED_MODULE_0__.MAs(7);_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("matMenuTriggerFor",o),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngIf",l.sharedvar.pollSelected&&l.sharedvar.pollSelected.schema),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Tol(l.roundBtnClass)}},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_6__.O5,_components_dynamic_form_dynamic_form_component__WEBPACK_IMPORTED_MODULE_7__.r,_angular_material_menu__WEBPACK_IMPORTED_MODULE_8__.VK,_angular_material_menu__WEBPACK_IMPORTED_MODULE_8__.OP,_angular_material_menu__WEBPACK_IMPORTED_MODULE_8__.p6,_angular_material_icon__WEBPACK_IMPORTED_MODULE_9__.Hw]})}return _PollDetailComponent})()},6357:(n,s,l)=>{l.r(s),l.d(s,{PollListEditModule:()=>J});var o=l(7087),d=l(3759),t=l(2283),g=l(4758),f=l(6806),D=l(6510),p=l(1359),O=l(3578),T=l(3241),b=l(8046),P=l(6410),m=l(8464);const A=["parent"];function L(r,h){if(1&r){const e=t.EpF();t.TgZ(0,"div",7)(1,"div",8),t._uU(2),t.TgZ(3,"mat-icon",9),t.NdJ("click",function(){const i=t.CHM(e).index,c=t.oxw();return t.KtG(c.onAddEditPoll(i))}),t._uU(4,"edit"),t.qZA()(),t.TgZ(5,"p",10),t._uU(6),t.qZA(),t.TgZ(7,"div",11)(8,"div",12)(9,"div",13)(10,"input",14),t.NdJ("change",function(a){const c=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.setBoolDupState(c,a))}),t.qZA(),t.TgZ(11,"label",15),t._uU(12,"Duplicable"),t.qZA()(),t.TgZ(13,"div",16)(14,"input",17),t.NdJ("change",function(a){const c=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.setBoolStartState(c,a))}),t.qZA(),t.TgZ(15,"label",18),t._uU(16,"Inicio"),t.qZA()(),t.TgZ(17,"div",19)(18,"input",20),t.NdJ("change",function(a){const c=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.setBoolEndState(c,a))}),t.qZA(),t.TgZ(19,"label",21),t._uU(20,"Fin"),t.qZA()()(),t.TgZ(21,"div")(22,"button",22),t.NdJ("click",function(){const i=t.CHM(e).index,c=t.oxw();return t.KtG(c.onDelete(i))}),t.TgZ(23,"mat-icon"),t._uU(24,"delete"),t.qZA()(),t._uU(25," \xa0 "),t.TgZ(26,"button",23),t.NdJ("click",function(){const i=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.onDetaill(i))}),t._uU(27," Detalle "),t.TgZ(28,"mat-icon"),t._uU(29,"east"),t.qZA()()()()()}if(2&r){const e=h.$implicit,_=t.oxw();t.Q6J("ngClass",_.getClass(e)),t.xp6(2),t.hij("",e.title," "),t.xp6(4),t.Oqu(e.description),t.xp6(4),t.Q6J("checked",e.allowDup),t.xp6(4),t.Q6J("checked",e.allowStart),t.xp6(4),t.Q6J("checked",e.allowEnd)}}let C=(()=>{class r{constructor(e,_,a,i,c){this.sharedvar=e,this.dtb=_,this.dg=a,this.snkBar=i,this.nvg=c,this.onClicked=new t.vpe,this.roundBtnClass="",this.flexHeightClass="overflow-auto flex flex-row flex-wrap p-2 gap-2",this.formData={controls:[{name:"title",label:"Nombre del Modelo:",type:"text",style:"w-full",validators:{required:!0}},{name:"description",label:"Descripci\xf3n:",type:"textarea",totalRows:4,style:"w-full",validators:{}},{name:"allowDup",label:"Es duplicable",type:"checkbox",validators:{}},{name:"allowStart",label:"Iniciar",type:"checkbox",validators:{}},{name:"allowEnd",label:"Finalizar",type:"checkbox",validators:{}}]},this.formDataOnStartEnd={controls:[{name:"sendMail2",label:"Enviar a correos electr\xf3nicos:",type:"textarea",totalRows:4,style:"w-full",validators:{}},{name:"geoLoc",label:"Agregar ubicaci\xf3n",type:"checkbox",validators:{}},{name:"crm",label:"Es CRM",type:"checkbox",validators:{}}]}}ngOnInit(){var e=this;return(0,T.Z)(function*(){let _=100;e.parentEl&&(_=e.parentEl.nativeElement.offsetLeft),e.roundBtnClass=`fixed z-90 bottom-8 left-${_} border-solid border-2 bg-white w-16 h-16 rounded-full drop-shadow-lg flex justify-center items-center text-violet-700 hover:bg-gray-200`,e.flexHeightClass="w-96 flex flex-col p-2 gap-2 "})()}getClicked(e){2===e.index&&this.onAddEditPoll()}getClass(e){let _="h-[12rem] w-80 rounded-md p-3 shadow-lg ";return this.sharedvar.pollSelected?.id===e.id?_+"bg-yellow-100 ":_+"bg-white "}onAddEditPoll(e=-1){let _=this.dtb.newPoll();e>=0&&(_=this.sharedvar.pollGrpExecuted.pollList[e]),this.dg.aDefault({title:"Modelo",schema:this.formData,dgwidth:300,dgheigth:500,value:_}).subscribe(i=>{if(i){if(!i._valid_)return void this.snkBar.open("Debe ingresar la informaci\xf3n solicitada.","Ok",{duration:5e3});this.dg.updatePropResult(_,i),e<0?this.sharedvar.pollGrpExecuted.pollList.push(_):this.sharedvar.pollGrpExecuted.pollList[e]=_,this.sharedvar.pollSelected=_}})}setBoolDupState(e,_){e.allowDup=_.target.checked}setBoolStartState(e,_){e.allowStart=_.target.checked,this.sharedvar.pollGrpExecuted.pollList.sort((a,i)=>Number(i.allowStart)-Number(a.allowStart))}setBoolEndState(e,_){e.allowEnd=_.target.checked}setBool(e){e.allowStart&&this.sharedvar.pollGrpExecuted.pollList.forEach(_=>{_.id!==e.id&&(e.allowStart=!1)})}onStarEndData(e){let _;_=e?this.sharedvar.pollGrpExecuted.onStart:this.sharedvar.pollGrpExecuted.onEnd,this.dg.aDefault({schema:this.formDataOnStartEnd,value:_,title:"Actividades autom\xe1ticas",dgwidth:350,dgheigth:400}).subscribe(i=>{i&&(e?this.sharedvar.pollGrpExecuted.onStart=i:this.sharedvar.pollGrpExecuted.onEnd=i)})}onDetaill(e){this.sharedvar.pollSelected=e,this.onClicked.emit(e)}onDelete(e){this.snkBar.open(`Eliminar: ${this.sharedvar.pollGrpExecuted.pollList[e].title}.`,"Eliminar",{duration:5e3}).onAction().subscribe(_=>{this.sharedvar.pollGrpExecuted.pollList.splice(e,1),this.sharedvar.pollSelected=null})}getButtonPos(){let e=100;return this.parentEl&&(e=this.parentEl.nativeElement.offsetLeft),console.log("Element",e),`fixed z-90 bottom-8 left-${e} bg-black w-16 h-16 rounded-full drop-shadow-lg flex justify-center items-center text-red-500 hover:bg-gray-700`}static#t=this.\u0275fac=function(_){return new(_||r)(t.Y36(g.D),t.Y36(f.k),t.Y36(D.x),t.Y36(p.ux),t.Y36(b.$))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-poll-list"]],viewQuery:function(_,a){if(1&_&&t.Gf(A,5),2&_){let i;t.iGM(i=t.CRH())&&(a.parentEl=i.first)}},outputs:{onClicked:"onClicked"},decls:19,vars:5,consts:[["parent",""],[1,"flex","flex-col","gap-1"],[1,"flex","items-center","justify-start","h-12","w-80","rounded-md","bg-white","p-3","shadow-lg",3,"click"],[1,"flex-1","mt-1","mb-2","font-medium","leading-tight","overflow-hidden"],["mat-stroked-button","","color","primary"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"click"],[3,"ngClass"],[1,"mb-2","font-medium","leading-tight","overflow-hidden"],[1,"text-violet-500","ml-2",3,"click"],[1,"mb-4","h-12","pl-3","overflow-hidden"],[1,"flex","items-center","justify-start"],[1,"flex-1"],[1,"flex","items-center","align-middle"],["checked","","id","dup","type","checkbox",1,"w-4","h-4","text-violet-500","bg-gray-100","border-gray-300","rounded","dark:focus:ring-violet-500","dark:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600",3,"checked","change"],["for","dup",1,"ml-2","text-sm","font-medium","text-gray-900","dark:text-gray-300"],[1,"flex","items-center","mb-1"],["id","inicio","type","checkbox",1,"w-4","h-4","text-violet-500","bg-gray-100","border-gray-300","rounded","dark:focus:ring-violet-500","dark:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600",3,"checked","change"],["for","inicio",1,"ml-2","text-sm","font-medium","text-gray-900","dark:text-gray-300"],[1,"flex","items-center"],["checked","","id","fin","type","checkbox",1,"w-4","h-4","text-violet-500","bg-gray-100","border-gray-300","rounded","dark:focus:ring-violet-500","dark:ring-offset-gray-800","focus:ring-2","dark:bg-gray-700","dark:border-gray-600",3,"checked","change"],["for","fin",1,"ml-2","text-sm","font-medium","text-gray-900","dark:text-gray-300"],["mat-stroked-button","","color","warn",3,"click"],["mat-stroked-button","","color","primary",3,"click"]],template:function(_,a){1&_&&(t.TgZ(0,"div",null,0)(2,"div",1)(3,"div",2),t.NdJ("click",function(){return a.onStarEndData(!0)}),t.TgZ(4,"div",3),t._uU(5,"Actividades comienzo"),t.qZA(),t.TgZ(6,"div")(7,"button",4),t._uU(8," Detalle "),t.qZA()()(),t.TgZ(9,"div",2),t.NdJ("click",function(){return a.onStarEndData(!1)}),t.TgZ(10,"div",3),t._uU(11,"Actividades Fin"),t.qZA(),t.TgZ(12,"div")(13,"button",4),t._uU(14," Detalle "),t.qZA()()(),t.YNc(15,L,30,6,"div",5),t.qZA()(),t.TgZ(16,"button",6),t.NdJ("click",function(){return a.onAddEditPoll()}),t.TgZ(17,"mat-icon"),t._uU(18,"add"),t.qZA()()),2&_&&(t.Tol(a.flexHeightClass),t.xp6(15),t.Q6J("ngForOf",a.sharedvar.pollGrpExecuted.pollList),t.xp6(1),t.Tol(a.roundBtnClass))},dependencies:[o.mk,o.sg,P.lW,m.Hw]})}return r})();var v=l(9381);function B(r,h){1&r&&t._UZ(0,"app-poll-list")}function x(r,h){if(1&r){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"app-poll-list",5),t.NdJ("onClicked",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.getClicked(a))}),t.qZA()(),t.TgZ(3,"div",6),t._UZ(4,"app-poll-detail"),t.qZA()()}}const k=[{path:"",component:(()=>{class r{constructor(e,_,a,i){this.sharedvar=e,this.dtb=_,this.dg=a,this.snkBar=i,this.screenSplit=!0,this.formData={controls:[{name:"title",label:"Nombre del Modelo:",type:"text",style:"w-full",validators:{required:!0}},{name:"description",label:"Descripci\xf3n:",type:"textarea",style:"w-full h-36",totalRows:5,validators:{}},{name:"allowStart",label:"Iniciar",type:"checkbox",validators:{}},{name:"allowEnd",label:"Finalizar",type:"checkbox",validators:{}}]}}ngOnInit(){this.sharedvar.pollSelected=this.sharedvar.pollGrpExecuted.pollList.length>0?this.sharedvar.pollGrpExecuted.pollList[0]:null}getClicked(e){}onAddEditPoll(e=-1){let _=this.dtb.newPoll();e>=0&&(_=this.sharedvar.pollGrpExecuted.pollList[e]),this.dg.aDefault({title:"Modelo",schema:this.formData,dgwidth:300,dgheigth:450,value:_}).subscribe(i=>{if(i){if(!i._valid_)return void this.snkBar.open("Debe ingresar la informaci\xf3n solicitada.","Ok",{duration:5e3});this.dg.updatePropResult(_,i),e<0?this.sharedvar.pollGrpExecuted.pollList.push(_):this.sharedvar.pollGrpExecuted.pollList[e]=_}})}static#t=this.\u0275fac=function(_){return new(_||r)(t.Y36(g.D),t.Y36(f.k),t.Y36(D.x),t.Y36(p.ux))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-poll-list-edit"]],decls:4,vars:4,consts:[[3,"buttons","nav_menu","onClicked"],[4,"ngIf"],["class","flex max-h-screen",4,"ngIf"],[1,"flex","max-h-screen"],[1,"overflow-y-visible","h-screen","w-96","bg-slate-200"],[3,"onClicked"],[1,"overflow-y-visible","h-screen","w-3/5","p-2"]],template:function(_,a){1&_&&(t.TgZ(0,"div")(1,"app-header",0),t.NdJ("onClicked",function(c){return a.getClicked(c)}),t.qZA(),t.YNc(2,B,1,0,"app-poll-list",1),t.YNc(3,x,5,0,"div",2),t.qZA()),2&_&&(t.xp6(1),t.Q6J("buttons","11010")("nav_menu",!0),t.xp6(1),t.Q6J("ngIf",!a.screenSplit),t.xp6(1),t.Q6J("ngIf",a.screenSplit))},dependencies:[o.O5,O.G,C,v.p]})}return r})()}];let U=(()=>{class r{static#t=this.\u0275fac=function(_){return new(_||r)};static#e=this.\u0275mod=t.oAB({type:r});static#_=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(k),d.Bz]})}return r})();var E=l(769),M=l(7572);const y=[{path:"",component:C}];let I=(()=>{class r{static#t=this.\u0275fac=function(_){return new(_||r)};static#e=this.\u0275mod=t.oAB({type:r});static#_=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(y),d.Bz]})}return r})();var R=l(6302);let w=(()=>{class r{static#t=this.\u0275fac=function(_){return new(_||r)};static#e=this.\u0275mod=t.oAB({type:r});static#_=this.\u0275inj=t.cJS({imports:[o.ez,I,E.O,P.ot,m.Ps,R.p9]})}return r})();const K=[{path:"",component:v.p}];let S=(()=>{class r{static#t=this.\u0275fac=function(_){return new(_||r)};static#e=this.\u0275mod=t.oAB({type:r});static#_=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(K),d.Bz]})}return r})();var W=l(9347);let Z=(()=>{class r{static#t=this.\u0275fac=function(_){return new(_||r)};static#e=this.\u0275mod=t.oAB({type:r});static#_=this.\u0275inj=t.cJS({imports:[o.ez,S,p.ZX,M.N,E.O,W.Tx,m.Ps]})}return r})(),J=(()=>{class r{static#t=this.\u0275fac=function(_){return new(_||r)};static#e=this.\u0275mod=t.oAB({type:r});static#_=this.\u0275inj=t.cJS({imports:[o.ez,U,E.O,M.N,w,Z]})}return r})()}}]);